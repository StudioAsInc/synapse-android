<androidx.coordinatorlayout.widget.CoordinatorLayout
	xmlns:android="http://schemas.android.com/apk/res/android"
	xmlns:app="http://schemas.android.com/apk/res-auto"
	xmlns:tools="http://schemas.android.com/tools"
	android:layout_width="match_parent"
	android:layout_height="match_parent"
	android:id="@+id/_main">

	<com.google.android.material.appbar.AppBarLayout
		android:layout_width="match_parent"
		android:layout_height="wrap_content"
		app:elevation="0dp"
		android:background="@android:color/transparent">

		<com.google.android.material.appbar.MaterialToolbar
			android:id="@+id/toolbar"
			android:layout_width="match_parent"
			android:layout_height="?attr/actionBarSize"
			app:title=""
			app:navigationIcon="@drawable/icon_arrow_back_ios_round"
			app:navigationContentDescription="Back"
			style="@style/Widget.Material3.Toolbar.OnSurface">

			<LinearLayout
				android:layout_width="match_parent"
				android:layout_height="match_parent"
				android:orientation="horizontal"
				android:gravity="center_vertical">

				<View
					android:layout_width="0dp"
					android:layout_height="1dp"
					android:layout_weight="1" />

				<ImageView
					android:id="@+id/cancelCreateAccount"
					android:layout_width="48dp"
					android:layout_height="48dp"
					android:padding="10dp"
					android:src="@drawable/ic_delete_48px"
					android:scaleType="fitCenter"
					android:background="?attr/selectableItemBackgroundBorderless"
					android:contentDescription="Cancel account creation" />

				<ProgressBar
					android:id="@+id/cancel_create_account_progress"
					android:layout_width="48dp"
					android:layout_height="48dp"
					android:padding="12dp"
					android:indeterminate="false"
					android:visibility="gone"
					style="?android:progressBarStyle" />

			</LinearLayout>

		</com.google.android.material.appbar.MaterialToolbar>

	</com.google.android.material.appbar.AppBarLayout>
	<androidx.core.widget.NestedScrollView
		android:id="@+id/scroll"
		android:layout_width="match_parent"
		android:layout_height="match_parent"
		android:background="?attr/colorSurface"
		android:scrollbars="none"
		app:layout_behavior="@string/appbar_scrolling_view_behavior">
		
		<LinearLayout
			android:id="@+id/body"
			android:layout_width="match_parent"
			android:layout_height="wrap_content"
			android:padding="24dp"
			android:orientation="vertical">

			<!-- Hidden views for compatibility -->
			<LinearLayout
				android:id="@+id/top"
				android:layout_width="0dp"
				android:layout_height="0dp"
				android:visibility="gone" />
			<ImageView
				android:id="@+id/back"
				android:layout_width="0dp"
				android:layout_height="0dp"
				android:visibility="gone" />
			<LinearLayout
				android:id="@+id/topMiddle"
				android:layout_width="0dp"
				android:layout_height="0dp"
				android:visibility="gone" />
			<TextView
				android:id="@+id/title"
				android:layout_width="wrap_content"
				android:layout_height="wrap_content"
				android:layout_marginBottom="8dp"
				android:text="Complete your account"
				android:textAppearance="?attr/textAppearanceDisplaySmall"
				android:textColor="?attr/colorOnSurface" />
			<TextView
				android:id="@+id/subtitle"
				android:layout_width="wrap_content"
				android:layout_height="wrap_content"
				android:layout_marginBottom="32dp"
				android:text="Kindly complete your profile to finalize the account creation process. Alternatively, you may choose to skip this step by utilizing the designated skip button.\n\n**First, upload your profile picture**"
				android:textAppearance="?attr/textAppearanceBodyLarge"
				android:textColor="?attr/colorOnSurfaceVariant" />
			<com.google.android.material.card.MaterialCardView
				android:id="@+id/profile_image_card"
				android:layout_width="wrap_content"
				android:layout_height="wrap_content"
				android:layout_marginBottom="40dp"
				android:layout_gravity="center_horizontal"
				app:cardElevation="0dp"
				app:cardCornerRadius="75dp"
				app:strokeWidth="3dp"
				app:strokeColor="?attr/colorOutlineVariant"
				app:cardBackgroundColor="?attr/colorSurfaceVariant"
				android:clickable="true"
				android:focusable="true"
				style="@style/Widget.Material3.CardView.Outlined">
				<ImageView
					android:id="@+id/profile_image"
					android:layout_width="150dp"
					android:layout_height="150dp"
					android:src="@drawable/avatar"
					android:scaleType="centerCrop"
					android:contentDescription="Profile picture" />
			</com.google.android.material.card.MaterialCardView>
			<com.google.android.material.textfield.TextInputLayout
				android:layout_width="match_parent"
				android:layout_height="wrap_content"
				android:layout_marginBottom="20dp"
				android:hint="Username"
				app:helperText="Must contain at least one letter and be 3-25 characters"
				app:helperTextEnabled="true"
				app:counterEnabled="true"
				app:counterMaxLength="25"
				style="@style/Widget.Material3.TextInputLayout.OutlinedBox">
				<com.synapse.social.studioasinc.FadeEditText
					android:id="@+id/username_input"
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:text="Handle"
					android:textAppearance="?attr/textAppearanceBodyLarge"
					android:singleLine="true"
					android:imeOptions="actionNext"
					android:inputType="text" />
			</com.google.android.material.textfield.TextInputLayout>

			<com.google.android.material.textfield.TextInputLayout
				android:layout_width="match_parent"
				android:layout_height="wrap_content"
				android:layout_marginBottom="20dp"
				android:hint="Display Name (Optional)"
				app:helperText="How others will see your name"
				app:helperTextEnabled="true"
				app:counterEnabled="true"
				app:counterMaxLength="30"
				style="@style/Widget.Material3.TextInputLayout.OutlinedBox">
				<com.synapse.social.studioasinc.FadeEditText
					android:id="@+id/nickname_input"
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:textAppearance="?attr/textAppearanceBodyLarge"
					android:singleLine="true"
					android:imeOptions="actionNext"
					android:inputType="textPersonName" />
			</com.google.android.material.textfield.TextInputLayout>

			<com.google.android.material.textfield.TextInputLayout
				android:layout_width="match_parent"
				android:layout_height="wrap_content"
				android:layout_marginBottom="24dp"
				android:hint="@string/biography"
				app:helperText="Tell others about yourself"
				app:helperTextEnabled="true"
				app:counterEnabled="true"
				app:counterMaxLength="250"
				style="@style/Widget.Material3.TextInputLayout.OutlinedBox">
				<com.synapse.social.studioasinc.FadeEditText
					android:id="@+id/biography_input"
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:textAppearance="?attr/textAppearanceBodyLarge"
					android:imeOptions="actionDone"
					android:inputType="textMultiLine|textCapSentences"
					android:maxLines="4"
					android:scrollbars="vertical" />
			</com.google.android.material.textfield.TextInputLayout>
			<com.google.android.material.card.MaterialCardView
				android:layout_width="match_parent"
				android:layout_height="wrap_content"
				android:layout_marginTop="8dp"
				android:layout_marginBottom="32dp"
				app:cardElevation="2dp"
				app:cardCornerRadius="16dp"
				app:cardBackgroundColor="?attr/colorSurfaceContainer"
				style="@style/Widget.Material3.CardView.Elevated">

				<LinearLayout
					android:id="@+id/email_verification"
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:padding="20dp"
					android:orientation="vertical">

					<TextView
						android:id="@+id/email_verification_title"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_marginBottom="8dp"
						android:textAppearance="?attr/textAppearanceTitleMedium"
						android:textColor="?attr/colorOnSurface"
						tools:replace="android:text"
						android:text="@string/email_verification_title" />

					<TextView
						android:id="@+id/email_verification_subtitle"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_marginBottom="20dp"
						android:text="Verify the email address through the link we have sent in your mail box."
						android:textAppearance="?attr/textAppearanceBodyMedium"
						android:textColor="?attr/colorOnSurfaceVariant" />

					<LinearLayout
						android:id="@+id/email_verification_middle"
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						android:gravity="center_vertical"
						android:layout_marginBottom="16dp"
						android:orientation="horizontal">

						<ImageView
							android:id="@+id/email_verification_error_ic"
							android:layout_width="24dp"
							android:layout_height="24dp"
							android:layout_marginEnd="12dp"
							android:src="@drawable/icon_report_problem_round"
							android:scaleType="fitCenter"
							android:contentDescription="Error icon" />

						<ImageView
							android:id="@+id/email_verification_verified_ic"
							android:layout_width="24dp"
							android:layout_height="24dp"
							android:layout_marginEnd="12dp"
							android:src="@drawable/icon_check_circle_round"
							android:scaleType="fitCenter"
							android:contentDescription="Verified icon" />

						<TextView
							android:id="@+id/email_verification_status"
							android:layout_width="0dp"
							android:layout_height="wrap_content"
							android:layout_weight="1"
							android:text="Email not verified"
							android:textAppearance="?attr/textAppearanceBodyLarge"
							android:textColor="?attr/colorError" />

						<com.google.android.material.button.MaterialButton
							android:id="@+id/email_verification_status_refresh"
							android:layout_width="48dp"
							android:layout_height="48dp"
							app:icon="@drawable/icon_autorenew_round"
							app:iconSize="24dp"
							app:iconTint="?attr/colorOnSurfaceVariant"
							android:contentDescription="Refresh status"
							style="@style/Widget.Material3.Button.IconButton" />

					</LinearLayout>

					<com.google.android.material.button.MaterialButton
						android:id="@+id/email_verification_send"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_gravity="end"
						android:text="@string/send"
						app:icon="@drawable/ic_send"
						app:iconGravity="textStart"
						style="@style/Widget.Material3.Button.TonalButton" />

				</LinearLayout>

			</com.google.android.material.card.MaterialCardView>
			<!-- Action Buttons Section -->
			<LinearLayout
				android:id="@+id/buttons"
				android:layout_width="match_parent"
				android:layout_height="wrap_content"
				android:layout_marginTop="16dp"
				android:orientation="vertical"
				android:gravity="center">

				<!-- Primary Continue Button -->
				<com.google.android.material.button.MaterialButton
					android:id="@+id/complete_button"
					android:layout_width="match_parent"
					android:layout_height="56dp"
					android:layout_marginBottom="12dp"
					android:text="@string/continue_button"
					android:textAppearance="?attr/textAppearanceLabelLarge"
					app:icon="@drawable/ic_forward"
					app:iconGravity="end"
					app:iconSize="24dp"
					android:enabled="false"
					style="@style/Widget.Material3.Button.UnelevatedButton" />

				<!-- Hidden views for compatibility -->
				<TextView
					android:id="@+id/complete_button_title"
					android:layout_width="0dp"
					android:layout_height="0dp"
					android:visibility="gone" />

				<ProgressBar
					android:id="@+id/complete_button_loader_bar"
					android:layout_width="0dp"
					android:layout_height="0dp"
					android:visibility="gone"
					style="?android:progressBarStyle" />

				<!-- Secondary Skip Button -->
				<com.google.android.material.button.MaterialButton
					android:id="@+id/skip_button"
					android:layout_width="match_parent"
					android:layout_height="48dp"
					android:text="@string/skip_button"
					android:textAppearance="?attr/textAppearanceBodyLarge"
					android:enabled="false"
					style="@style/Widget.Material3.Button.TextButton" />

			</LinearLayout>
		</LinearLayout>
	</androidx.core.widget.NestedScrollView>
</androidx.coordinatorlayout.widget.CoordinatorLayout>
